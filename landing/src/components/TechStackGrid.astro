---
import {Icon} from 'astro-icon/components'

const techCategories = [
    {
        name: "Core Stack",
        icon: "tabler:code",
        items: {
            "Languages": ["JavaScript", "TypeScript", "PHP"],
            "Frameworks": ["Symfony", "Laravel", "Vue.js", "Astro", "NestJS", "Nuxt"],
            "Runtime": ["Node.js"]
        },
        color: "bg-yellow-200"
    },
    {
        name: "Data & Storage",
        icon: "tabler:database",
        items: {
            "Databases": ["MySQL", "MongoDB", "PostgreSQL", "Redis", "Elasticsearch"],
            "Messaging": ["Apache Kafka", "RabbitMQ"]
        },
        color: "bg-blue-200"
    },
    {
        name: "Frontend & CMS",
        icon: "tabler:layout",
        items: {
            "UI": ["Bootstrap", "Tailwind CSS"],
            "Platforms": ["Pimcore", "WordPress", "WooCommerce"]
        },
        color: "bg-green-200"
    },
    {
        name: "DevOps & Infrastructure",
        icon: "tabler:server",
        items: {
            "Container": ["Docker", "Kubernetes"],
            "Cloud": ["AWS", "GCP", "Cloudflare"],
            "IaC": ["Terraform"],
            "CI/CD": ["Git", "GitHub Actions"]
        },
        color: "bg-purple-200"
    },
    {
        name: "Monitoring & AI",
        icon: "tabler:chart-dots",
        items: {
            "Observability": ["Grafana", "Prometheus", "Sentry", "Kibana", "Uptime Kuma"],
            "Analytics": ["Google Analytics", "Google Search Console"],
            "AI Tools": ["OpenAI", "Claude", "MindsDB"]
        },
        color: "bg-pink-200"
    },
    {
        name: "Testing & Quality",
        icon: "tabler:test-pipe",
        items: {
            "Testing": ["Cypress", "Selenium", "PHPUnit", "Jest", "PhpSpec"],
            "Analysis": ["PhpStan", "ESLint", "Prettier", "Rector"]
        },
        color: "bg-orange-200"
    }
];
---

<div class="mb-16">
    <h2 class="text-3xl font-bold mb-8 transform -rotate-2 inline-block bg-yellow-300 px-6 py-3 border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]">
        Tech Stack
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {techCategories.map((category, index) => (
            <div class={`${category.color} border-4 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] transform ${index % 2 === 0 ? 'rotate-1' : '-rotate-1'}`}>
                <div class="flex items-center gap-4 mb-6">
                    <div class="w-12 h-12 p-2 bg-white border-4 border-black flex items-center justify-center">
                        <Icon name={category.icon} class="w-6 h-6" />
                    </div>
                    <h3 class="text-2xl font-bold">{category.name}</h3>
                </div>

                {Object.entries(category.items).map(([subCategory, technologies]) => (
                    <div class="mb-4">
                        <h4 class="font-bold text-sm mb-2 bg-black text-white inline-block px-2 py-1 transform -rotate-1">
                            {subCategory}
                        </h4>
                        <div class="flex flex-wrap gap-2">
                            {technologies.map((tech: string) => (
                                <span class="bg-white px-3 py-1 border-2 border-black text-sm font-bold shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]">
                                    {tech}
                                </span>
                            ))}
                        </div>
                    </div>
                ))}
            </div>
        ))}
    </div>
</div>
