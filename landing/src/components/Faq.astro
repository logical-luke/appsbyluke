<div id="faq" class="bg-green-200 py-16 border-y-4 border-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white border-4 border-black p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative">
            <h2 class="text-3xl font-bold text-black mb-8 transform -rotate-1 inline-block bg-yellow-300 px-4 py-2 border-4 border-black">Frequently Asked Questions</h2>

            <div class="mb-8 flex justify-center">
                <div class="inline-flex border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]">
                    <button id="subscriptionToggle" class="px-4 py-2 bg-blue-600 text-white font-bold transition-all duration-300">Subscription</button>
                    <button id="packagesToggle" class="px-4 py-2 bg-gray-200 text-gray-700 font-bold transition-all duration-300">App Packages</button>
                </div>
            </div>

            <div id="subscriptionFAQ" class="space-y-4">
                {[
                    {
                        question: "How do I get started with AppsByLuke?",
                        answer: "After subscribing to a plan, you'll receive an email shortly after, granting access to your personal requests management panel. That's all you'll need to begin submitting your requests."
                    },
                    {
                        question: "What programming languages do you work with?",
                        answer: "I primarily work with TypeScript, JavaScript, PHP, and Python for web applications. My expertise allows me to choose the best technology for your specific project needs, or I can work with your requested language and existing code."
                    },
                    {
                        question: "How does the meeting policy work?",
                        answer: "I offer meetings as needed, but I apply a fair-use policy. This means I prioritize efficient communication and coding time. Regular updates are provided through your requests management panel and if requested on Slack."
                    },
                    {
                        question: "What are your working hours?",
                        answer: "I operate Monday through Friday, excluding national holidays. However, I'm flexible and can accommodate different time zones if needed."
                    },
                    {
                        question: "How do I submit a request?",
                        answer: "You can add unlimited request cards to the designated column on your personal project management board. Once you're ready for me to start working on a request, simply move it to the 'Active Request' column and I'll begin working on it."
                    },
                    {
                        question: "How do I receive the completed code?",
                        answer: "Upon completion of your active request, I deliver the code directly to you through a private GitHub repository and/or attached to the request in your requests management panel. The link to your repository will be shared in the corresponding request card on your requests management panel. I can also upload the code to your repository, but that will require granting necessary permissions in advance."
                    },
                    {
                        question: "What options do I have once I have received the code?",
                        answer: "Once the code is delivered, you can either approve it or request changes. If you're satisfied, set the request as 'Approved'. If you need changes, leave a comment and set the status to 'Changes requested', and I'll work on the requested modifications."
                    },
                    {
                        question: "How do unlimited requests work?",
                        answer: "You're able to add an unlimited amount of requests to your requests panel, and I'll deliver them one by one based on your chosen plan's concurrent task limit."
                    },
                    {
                        question: "What if I have one large request?",
                        answer: "For large requests, I apply a continuous development approach, delivering features incrementally. This allows you to provide feedback along the way, ensuring the final result meets your expectations."
                    },
                    {
                        question: "How is the code quality ensured?",
                        answer: "I maintain high code quality through industry-standard practices, including following coding standards, using linters and formatters, providing clear documentation, and performing thorough code reviews. You can check the code quality yourself before subscribing on my GitHub profile."
                    },
                    {
                        question: "Can I cancel my subscription?",
                        answer: "Yes, you can cancel your subscription at any time. There are no contracts or hidden fees. The current month's fee is non-refundable, but you'll retain access to the service for the remainder of the paid period. There is also an option to pause your subscription in case you decided on an option with payment for a longer period than monthly."
                    },
                    {
                        question: "Do I lose access to my previous code when I cancel my subscription?",
                        answer: "No, you retain access to all the code I've developed for you, even after cancelling your subscription."
                    }
                ].map((faq, index) => (
                        <div class="bg-pink-100 border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-shadow duration-300 hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]">
                            <button
                                    class="w-full text-left p-4 font-bold text-black focus:outline-none flex justify-between items-center"
                                    onclick={`document.getElementById('faq-answer-${index}').classList.toggle('hidden')`}
                            >
                                <span>{faq.question}</span>
                                <span class="text-2xl">+</span>
                            </button>
                            <div id={`faq-answer-${index}`} class="bg-white hidden p-4 border-t-4 border-black">
                                <p class="text-black">{faq.answer}</p>
                            </div>
                        </div>
                ))}
            </div>

            <div id="packagesFAQ" class="space-y-4 hidden">
                {[
                    {
                        question: "What's included in the app packages?",
                        answer: "Each app package includes custom designed responsive web app, core feature implementation, and varies based on the package level. The MVP Launchpad includes basic features, while the Enterprise Powerhouse offers a fully custom enterprise-grade application with advanced features."
                    },
                    {
                        question: "How long does it take to deliver an app package?",
                        answer: "Delivery times vary depending on the package. The MVP Launchpad typically takes 4-6 weeks, the Scale-up Accelerator 8-10 weeks, and the Enterprise Powerhouse 12-16 weeks."
                    },
                    {
                        question: "What if I need more features than what's included in a package?",
                        answer: "If you need additional features beyond what's included in a package, we can discuss custom additions or upgrading to a more comprehensive package. Alternatively, you might consider the subscription model for ongoing development."
                    },
                    {
                        question: "Do the app packages include hosting and maintenance?",
                        answer: "The packages primarily cover development. Hosting and long-term maintenance are typically separate considerations, but we can discuss these aspects and provide recommendations or additional services as needed."
                    },
                    {
                        question: "What technologies are used for the app packages?",
                        answer: "We use a modern tech stack including JavaScript, TypeScript, PHP, or Python for backend, and frameworks like Vue.js or Astro for frontend. The specific technologies are chosen based on the project requirements and what's best suited for your application."
                    }
                ].map((faq, index) => (
                        <div class="bg-pink-100 border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-shadow duration-300 hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]">
                            <button
                                    class="w-full text-left p-4 font-bold text-black focus:outline-none flex justify-between items-center"
                                    onclick={`document.getElementById('packages-faq-answer-${index}').classList.toggle('hidden')`}
                            >
                                <span>{faq.question}</span>
                                <span class="text-2xl">+</span>
                            </button>
                            <div id={`packages-faq-answer-${index}`}
                                 class="bg-white hidden p-4 border-t-4 border-black">
                                <p class="text-black">{faq.answer}</p>
                            </div>
                        </div>
                ))}
            </div>

            <div class="mt-12 text-center">
                <a href="/contact"
                   class="inline-block bg-green-400 font-bold py-3 px-6 border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all duration-300 hover:bg-green-500 group">
                    <span class="text-black group-hover:text-white">Still have questions? Contact me!</span>
                </a>
            </div>
        </div>
    </div>
</div>

<script>
    function initializeFAQ() {
        const subscriptionToggle = document.getElementById('subscriptionToggle');
        const packagesToggle = document.getElementById('packagesToggle');
        const subscriptionFAQ = document.getElementById('subscriptionFAQ');
        const packagesFAQ = document.getElementById('packagesFAQ');

        function showSubscriptionFAQ() {
            subscriptionFAQ?.classList.remove('hidden');
            packagesFAQ?.classList.add('hidden');
            subscriptionToggle?.classList.remove('bg-gray-200', 'text-gray-700');
            subscriptionToggle?.classList.add('bg-blue-600', 'text-white');
            packagesToggle?.classList.remove('bg-blue-600', 'text-white');
            packagesToggle?.classList.add('bg-gray-200', 'text-gray-700');
        }

        function showPackagesFAQ() {
            packagesFAQ?.classList.remove('hidden');
            subscriptionFAQ?.classList.add('hidden');
            packagesToggle?.classList.remove('bg-gray-200', 'text-gray-700');
            packagesToggle?.classList.add('bg-blue-600', 'text-white');
            subscriptionToggle?.classList.remove('bg-blue-600', 'text-white');
            subscriptionToggle?.classList.add('bg-gray-200', 'text-gray-700');
        }

        subscriptionToggle?.addEventListener('click', showSubscriptionFAQ);
        packagesToggle?.addEventListener('click', showPackagesFAQ);

        document.querySelectorAll('[id^="faq-answer-"], [id^="packages-faq-answer-"]').forEach((el) => {
            el.classList.add('hidden');
        });
    }

    document.addEventListener('DOMContentLoaded', initializeFAQ);
    document.addEventListener('astro:page-load', initializeFAQ);
</script>